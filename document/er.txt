【例题】现有一个学校信息系统。
该学校有多个系，描述系的信息有：系编号、系名
每个系有多名教师，描述教师的信息有：教师编号、教师名、研究领域。每个教师只能属于一个系，一个系可以有多个老师
每个系都有一个教师作为系主任，每个教师只能在一个系当系主任
每个系有多个班级，描述班级的信息有：班级编号、班级名、专业，每个班级只属于一个系。
每个班级有多个学生，每个学生只能属于一个班级。描述学生的信息有：学号、姓名、年龄、性别
每个班级都有一个学生担任班长，一个学生只能在一个班级担任班长。
有的学生担任指导员，一个指导员可以管理多个学生，每个学生只能有一个指导员。
一个系可以有多门课程，每门课可以在多个系开课。描述课程的信息有：课程编号、课程名、学时、学分
一个教师可以讲多门课，一门课可以被多教师讲。一个学生可以选择多门课，一门课可以被多个学生学。但当一个学生选定一门课时，就有一个确定的老师。一个学生选定的每一门课程都有一个成绩。

1.画出ER图


2.将其转换为关系模式，并规范化到3NF。
3.指出每个关系模式的主码和外码

“系”、“班级”、“教师”、“课程”、“学生”均为实体，各抽象成一个关系
“设班”关系为1对多关系，可以和n端“班级”合并
“开课”关系为多对多关系，必须独立成一个关系
“主任”关系为1对1关系，可以和1端“系”合并
“任教”关系为1对多关系，可以和n端“教师”合并
“讲授”关系为多对多关系，必须独立成一个关系
“选课”关系为多对多关系，必须独立成一个关系
“班长”关系为1对1关系，可以和1端“班级”合并
“就读”关系为1对多关系，可以和n端“学生”合并
“指导”关系为1对多关系，可以和n端“学生”合并
最后得到的关系表为：
系（系编号A【主码】、系名B、系主任教师编号C【外码-教师】）；BCNF
班级（班级编号A【主码】、班级名B、专业C、系编号D【外码-系】、班长学号E【外码-学生】）；如果专业不能决定系，则是BCNF，否则3NF
教师（教师编号【主码】、教师名、研究领域、系编号【外码-系】）BCNF
课程（课程编号【主码】、课程名、学时、学分）BCNF
学生（学号【主码】、姓名、年龄、性别、班级编号【外码-班级】、指导员学号【外码-学生】）BCNF
开课（系编号、课程编号）【全码】；BCNF
讲授（课程编号、教师编号）【全码】；BCNF
选课（学生编号【外码-学生】、（课程编号、教师编号）【外码-讲授】、成绩）学生编号、课程编号、教师编号这三个属性组成了主码。BCNF

注意选课关系，这里课程和教师没有分别使用两个外码，而是使用了从讲授关系引用过来的外码，是因为不可以选“讲授”关系安排之外的课。

不需要做额外的规范化。
